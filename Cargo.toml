[package]
name = "custos"
version = "0.6.0"
edition = "2021"
license = "MIT"
description = "A minimal OpenCL, CUDA and host CPU array manipulation engine / framework."
repository = "https://github.com/elftausend/custos"
keywords = ["CUDA", "OpenCL", "arrays", "deep-learning", "array-manipulation"]
categories = ["science", "mathematics", "memory-management", "external-ffi-bindings"]
readme = "README.md"
rust-version = "1.65"
# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]


[build-dependencies]
# TODO: use opencl only lib
custos = { version="0.5.0", default-features = false }

[features]
default = ["blas", "cuda", "opencl", "opt-cache"]
opencl = ["custos/opencl"]
cuda = []
realloc = []
opt-cache = []
blas = []
static-api = []
stack-alloc = []
no-std = ["stack-alloc"]

[dev-dependencies]
#criterion = "0.3"
#custos-macro = {path = "../custos-macro"}

[[example]]
name = "cuda_readme"
required-features = ["cuda"]

[[example]]
name = "cl_readme"
required-features = ["opencl"]

[[example]]
name = "unified_memory"
required-features = ["opencl"]

[[example]]
name = "opencl_kernel_launch"
required-features = ["opencl"]

[[test]]
name = "opencl_unified"
required-features = ["opencl"]

[[test]]
name = "cl_kernel_launch"
required-features = ["opencl"]

#[[bench]]
#name = "fixed_size_vs_vec"
#harness = false

[[bench]]
name = "cache_adv"
harness = false

[[bench]]
name = "alloc"
harness = false

#[[bench]]
#name = "gemm"
#harness = false
#required-features = ["opencl", "cuda"]

#[[bench]]
#name = "cuda_vs_opencl"
#harness = false
#required-features = ["opencl", "cuda"]